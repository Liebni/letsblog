/*!
 * JRaiser 2 Javascript Library
 * paginator - v1.1.0 (2015-02-22T20:47:16+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("paginator/1.1.x/",["base/1.0.x/","dom/1.0.x/dom-event-arg","widget/1.0.x/","tmpl/2.1.x/",null],function(t){"use strict";var a=t("widget/1.0.x/"),e=t("tmpl/2.1.x/");return a.create(function(){},{_init:function(t){var a=this,i=t.wrapper;i&&(i.empty().html(e.render(t.template,{currentPage:t.currentPage,totalPages:t.totalPages,pageNumbers:a._build(),nextText:t.nextText,prevText:t.prevText,ellipsisText:t.ellipsisText})),i.find("a").click(function(t){t.preventDefault(),a.trigger("click",{page:parseInt(this.getAttribute("data-page"))||1})}))},_destroy:function(t){t.wrapper&&t.wrapper.empty()},_build:function(){var t=this._options,a=t.totalPages;if(!(1>a)){var e=t.numberOfPagesToShow,i=parseInt((e-1)/2),n=t.currentPage||1,r=[],p=n-i,s=n+i,_=p-1,g=a-s;0>_&&(p=1,s=Math.min(a,s-_)),0>g&&(s=a,_>0&&(p=Math.max(1,p+g))),e>s-p+1&&(a>s?s++:p>1&&p--);for(var l=p;s>=l;l++)r.push({page:l,current:l==n});var o=p-1;return o&&(o>2?r.unshift({page:"..."}):o>1&&r.unshift({page:2,current:!1}),r.unshift({page:1,current:!1})),o=a-s,o&&(o>2?r.push({page:"..."}):o>1&&r.push({page:s+1,current:!1}),r.push({page:a,current:!1})),r}}},{currentPage:1,numberOfPagesToShow:7,prevText:"上一页",nextText:"下一页",ellipsisText:"...",template:'<ol class="paginator"><% if (currentPage > 1) { %><li class="paginator__item paginator__item--prev"><a href="#" data-page="<%=(currentPage - 1)%>" class="paginator__item__text"><span class="paginator__item__text__icon"><%=prevText%></span></a></li><% } else { %><li class="paginator__item paginator__item--prev paginator__item--prev--disabled"><span class="paginator__item__text"><span class="paginator__item__text__icon"><%=prevText%></span></span></li><% } %><% pageNumbers.forEach(function(obj) { %><% if (obj.current) { %><li class="paginator__item paginator__item--number paginator__item--current"><span class="paginator__item__text"><%=obj.page%></span></li><% } else if (obj.page === "...") { %><li class="paginator__item paginator__item--ellipsis"><span class="paginator__item__text"><span class="paginator__item__text__icon"><%=ellipsisText%></span></span></li><% } else { %><li class="paginator__item paginator__item--number"><a href="#" data-page="<%=obj.page%>" class="paginator__item__text"><%=obj.page%></a></li><% } %><% }); %><% if (currentPage < totalPages) { %><li class="paginator__item paginator__item--next"><a href="#" data-page="<%=(currentPage + 1)%>" class="paginator__item__text"><span class="paginator__item__text__icon"><%=nextText%></span></a></li><% } else { %><li class="paginator__item paginator__item--next paginator__item--next--disabled"><span class="paginator__item__text"><span class="paginator__item__text__icon"><%=nextText%></span></span></li><% } %></ol>'})});